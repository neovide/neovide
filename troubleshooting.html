<!DOCTYPE HTML>
<html lang="en" class="sidebar-visible no-js ayu">
    <head>
        <!-- Book generated using mdBook -->
        <meta charset="UTF-8">
        <title>Troubleshooting - Neovide</title>
        <!-- Custom HTML head -->
        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <meta name="description" content="A Simple, No Nonsense, Cross-Platform, Graphical User Interface for Neovim">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="theme-color" content="#ffffff" />

        <link rel="icon" href="favicon.svg">
        <link rel="shortcut icon" href="favicon.png">
        <link rel="stylesheet" href="css/variables.css">
        <link rel="stylesheet" href="css/general.css">
        <link rel="stylesheet" href="css/chrome.css">
        <link rel="stylesheet" href="css/print.css" media="print">
        <!-- Fonts -->
        <link rel="stylesheet" href="FontAwesome/css/font-awesome.css">
        <link rel="stylesheet" href="fonts/fonts.css">
        <!-- Highlight.js Stylesheets -->
        <link rel="stylesheet" href="highlight.css">
        <link rel="stylesheet" href="tomorrow-night.css">
        <link rel="stylesheet" href="ayu-highlight.css">

        <!-- Custom theme stylesheets -->
        <link rel="stylesheet" href="theme/pagetoc.css">
        <link rel="stylesheet" href="theme/custom.css">
        <link rel="stylesheet" href="theme/breakpoints.css">
    </head>
    <body>
        <!-- Provide site root to javascript -->
        <script type="text/javascript">
            var path_to_root = "";
            var default_theme = window.matchMedia("(prefers-color-scheme: dark)").matches ? "ayu" : "ayu";
        </script>

        <!-- Work around some values being stored in localStorage wrapped in quotes -->
        <script type="text/javascript">
            try {
                var theme = localStorage.getItem('mdbook-theme');
                var sidebar = localStorage.getItem('mdbook-sidebar');

                if (theme.startsWith('"') && theme.endsWith('"')) {
                    localStorage.setItem('mdbook-theme', theme.slice(1, theme.length - 1));
                }

                if (sidebar.startsWith('"') && sidebar.endsWith('"')) {
                    localStorage.setItem('mdbook-sidebar', sidebar.slice(1, sidebar.length - 1));
                }
            } catch (e) { }
        </script>

        <!-- Set the theme before any content is loaded, prevents flash -->
        <script type="text/javascript">
            var theme;
            try { theme = localStorage.getItem('mdbook-theme'); } catch(e) { }
            if (theme === null || theme === undefined) { theme = default_theme; }
            var html = document.querySelector('html');
            html.classList.remove('no-js')
            html.classList.remove('ayu')
            html.classList.add(theme);
            html.classList.add('js');
        </script>

        <!-- Hide / unhide sidebar before it is displayed -->
        <script type="text/javascript">
            var html = document.querySelector('html');
            var sidebar = 'hidden';
            if (document.body.clientWidth >= 1080) {
                try { sidebar = localStorage.getItem('mdbook-sidebar'); } catch(e) { }
                sidebar = sidebar || 'visible';
            }
            html.classList.remove('sidebar-visible');
            html.classList.add("sidebar-" + sidebar);
        </script>

        <nav id="sidebar" class="sidebar" aria-label="Table of contents">
            <div class="sidebar-scrollbox">
                <ol class="chapter"><li class="chapter-item expanded affix "><a href="index.html">Neovide</a></li><li class="spacer"></li><li class="chapter-item expanded "><a href="features.html"><strong aria-hidden="true">1.</strong> Features</a></li><li class="chapter-item expanded "><a href="installation.html"><strong aria-hidden="true">2.</strong> Installation</a></li><li class="chapter-item expanded "><a href="configuration.html"><strong aria-hidden="true">3.</strong> Configuration</a></li><li class="chapter-item expanded "><a href="commands.html"><strong aria-hidden="true">4.</strong> Commands</a></li><li class="chapter-item expanded "><a href="command-line-reference.html"><strong aria-hidden="true">5.</strong> Command Line Reference</a></li><li class="chapter-item expanded "><a href="config-file.html"><strong aria-hidden="true">6.</strong> Config File</a></li><li class="chapter-item expanded "><a href="api.html"><strong aria-hidden="true">7.</strong> API</a></li><li class="chapter-item expanded "><a href="integration-with-external-tools.html"><strong aria-hidden="true">8.</strong> Integration w/ External Tools</a></li><li class="chapter-item expanded "><a href="troubleshooting.html" class="active"><strong aria-hidden="true">9.</strong> Troubleshooting</a></li><li class="chapter-item expanded "><a href="faq.html"><strong aria-hidden="true">10.</strong> FAQ</a></li><li class="chapter-item expanded "><a href="maintainer-cookbook.html"><strong aria-hidden="true">11.</strong> Maintainer Cookbook</a></li><li class="chapter-item expanded "><a href="sponsor.html"><strong aria-hidden="true">12.</strong> Sponsor</a></li></ol>
            </div>
            <div id="sidebar-resize-handle" class="sidebar-resize-handle"></div>
        </nav>

        <div id="page-wrapper" class="page-wrapper">

            <div class="page">
                <div id="menu-bar-hover-placeholder"></div>
                <div id="menu-bar" class="menu-bar sticky bordered">
                    <div class="left-buttons">
                        <button id="sidebar-toggle" class="icon-button" type="button" title="Toggle Table of Contents" aria-label="Toggle Table of Contents" aria-controls="sidebar">
                            <i class="fa fa-bars"></i>
                        </button>
                        <button id="theme-toggle" class="icon-button" type="button" title="Change theme" aria-label="Change theme" aria-haspopup="true" aria-expanded="false" aria-controls="theme-list">
                            <i class="fa fa-paint-brush"></i>
                        </button>
                        <ul id="theme-list" class="theme-popup" aria-label="Themes" role="menu">
                            <li role="none"><button role="menuitem" class="theme" id="light">Light</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="rust">Rust</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="coal">Coal</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="navy">Navy</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="ayu">Ayu (default)</button></li>
                        </ul>
                        <button id="search-toggle" class="icon-button" type="button" title="Search. (Shortkey: s)" aria-label="Toggle Searchbar" aria-expanded="false" aria-keyshortcuts="S" aria-controls="searchbar">
                            <i class="fa fa-search"></i>
                        </button>
                    </div>

                    <h1 class="menu-title">Neovide</h1>

                    <div class="right-buttons">
                        <a href="print.html" title="Print this book" aria-label="Print this book">
                            <i id="print-button" class="fa fa-print"></i>
                        </a>
                        <a href="https://github.com/neovide/neovide" title="Git repository" aria-label="Git repository">
                            <i id="git-repository-button" class="fa fa-github"></i>
                        </a>
                        <a href="https://github.com/neovide/neovide/edit/main/website/docs/troubleshooting.md" title="Suggest an edit" aria-label="Suggest an edit">
                            <i id="git-edit-button" class="fa fa-edit"></i>
                        </a>
                    </div>
                </div>

                <div id="search-wrapper" class="hidden">
                    <form id="searchbar-outer" class="searchbar-outer">
                        <input type="search" id="searchbar" name="searchbar" placeholder="Search this book ..." aria-controls="searchresults-outer" aria-describedby="searchresults-header">
                    </form>
                    <div id="searchresults-outer" class="searchresults-outer hidden">
                        <div id="searchresults-header" class="searchresults-header"></div>
                        <ul id="searchresults">
                        </ul>
                    </div>
                </div>
                <!-- Apply ARIA attributes after the sidebar and the sidebar toggle button are added to the DOM -->
                <script type="text/javascript">
                    document.getElementById('sidebar-toggle').setAttribute('aria-expanded', sidebar === 'visible');
                    document.getElementById('sidebar').setAttribute('aria-hidden', sidebar !== 'visible');
                    Array.from(document.querySelectorAll('#sidebar a')).forEach(function(link) {
                        link.setAttribute('tabIndex', sidebar === 'visible' ? 0 : -1);
                    });
                </script>

                <div id="content" class="content">
                    <main><div class="sidetoc"><nav class="pagetoc"></nav></div>
                        <h1 id="troubleshooting"><a class="header" href="#troubleshooting">Troubleshooting</a></h1>
<ul>
<li>
<p>Should Neovide happen not to start at all, check the following:</p>
<ul>
<li>
<p>Shell startup files if they output anything during startup, like <code>neofetch</code> or <code>echo</code>.
Neovide uses your shell to find <code>nvim</code> and can't know the difference between output and
<code>nvim</code>'s path. You can use your resource file (in the case of zsh <code>~/.zshrc</code>) instead for
such commands.</p>
</li>
<li>
<p>Whether or not you can reproduce this by running from the latest git main commit.
This can be done by running from source or just grabbing the binary from the <a href="https://github.com/neovide/neovide/actions/workflows/build.yml"><code>Actions</code> tab on
GitHub</a>.</p>
</li>
</ul>
</li>
<li>
<p>Neovide requires that a font be set in <code>init.vim</code> otherwise errors might be encountered. This can
be fixed by adding <code>set guifont=Your\ Font\ Name:h15</code> in init.vim file. Reference issue
<a href="https://github.com/neovide/neovide/issues/527">#527</a>.</p>
</li>
<li>
<p>If you installed <code>neovim</code> via Apple Silicon (M1)-based <code>brew</code>, you have to add the <code>brew prefix</code>
to <code>$PATH</code> to run <code>Neovide.app</code> in GUI. Please see the
<a href="https://docs.brew.sh/FAQ#my-mac-apps-dont-find-homebrew-utilities">homebrew documentation</a>.
Reference issue <a href="https://github.com/neovide/neovide/pull/1242">#1242</a></p>
</li>
</ul>
<h2 id="linux"><a class="header" href="#linux">Linux</a></h2>
<ul>
<li>
<p>If you receive errors complaining about DRI3 settings, please reference issue
<a href="https://github.com/neovide/neovide/issues/44#issuecomment-578618052">#44</a>.</p>
</li>
<li>
<p>If your scrolling is stuttering</p>
<ul>
<li>
<p>Add flags <code>--no-vsync</code> and <code>--no-idle</code> before startup as a quickfix.</p>
</li>
<li>
<p>Check if the value of <code>g:neovide_refresh_rate</code> and the refresh rate of your monitor are matched.</p>
</li>
<li>
<p>If your <code>g:neovide_refresh_rate</code> is correct, then check if you are using dual monitors with
mixed refresh rate, say <code>144</code> and <code>60</code>, by checking output of <code>xrandr</code> (wayland should support
mixed refresh rate out of the box), if so,that's because X11 does not support mixed refresh
rate well. You may be able to fix this through your compositor or by switching to wayland.
As a temporary work around, you may set <code>g:neovide_refresh_rate</code> to the lower value.</p>
</li>
</ul>
</li>
</ul>
<h2 id="performance-profiling"><a class="header" href="#performance-profiling">Performance Profiling</a></h2>
<p>If you encounter a performance problem like frame rate stuttering, besides attaching a log file
when reporting bugs, <a href="https://github.com/wolfpld/tracy">tracy</a> profiling data will also be very
useful and can usually help developers to troubleshoot the bug much faster. Here is how you can
collect tracy data.</p>
<ol>
<li>
<p><em>Install tracy.</em> Windows users can download it at
<a href="https://github.com/wolfpld/tracy/releases">its GitHub release page</a>. Linux and macOS users can
install it with package manager. Otherwise, you may have to build it yourself following tracy
docs.</p>
</li>
<li>
<p><em>Build a profiling version of Neovide.</em> Follow
<a href="https://neovide.dev/installation.html">the installation page</a> to install all required
dependencies and Rust SDK. Download or clone
<a href="https://github.com/neovide/neovide">source code of Neovide</a>. Build it with following commands.
Note that you need to specify <strong>both</strong> <code>--profile profiling</code> and <code>--features profiling</code>, so that
Neovide is built for a profiling version. Or, you can skip these commands, and let <code>cargo run</code>
in step 5 build it automatically before running.</p>
<pre><code class="language-sh">cd [neovide-source-dir]
cargo build --profile profiling --features profiling
</code></pre>
</li>
<li>
<p><em>Prepare tracy for collecting data.</em> Start tracy with,</p>
<pre><code class="language-sh">tracy-capture -o [log-file-path]
</code></pre>
<p>You will see output like this,</p>
<pre><code class="language-plain">Connecting to 127.0.0.1:8086...
</code></pre>
<p>It means tracy begins to wait for Neovide and will capture profiling data once it starts.</p>
</li>
<li>
<p><em>Running Neovide and reproduce the performance issue.</em> Start Neovide with following
commands in another terminal. If you have built Neovide with commands in step 3, this should
be very fast. If not, it will build Neovide first. You have to specify
<code>--profile profiling</code> and <code>--features profiling</code> here, too.</p>
<pre><code class="language-sh">cd [neovide-source-dir]
cargo run --profile profiling --features profiling -- [neovide-arguments...]
</code></pre>
<p>Now do whatever leads to performance issue in Neovide and exit.</p>
</li>
<li>
<p><em>Get the tracy data and report bugs with it.</em> Turn to tracy, you will see output like,</p>
<pre><code class="language-plain">Saving trace... done!
</code></pre>
<p>You will find tracy log file at the path you specified before. Attach it in your bug
report! You can also view it yourself with <code>tracy [log-file-path]</code>.</p>
</li>
</ol>

                    </main>

                    <nav class="nav-wrapper" aria-label="Page navigation">
                        <!-- Mobile navigation buttons -->
                            <a rel="prev" href="integration-with-external-tools.html" class="mobile-nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                                <i class="fa fa-angle-left"></i>
                            </a>
                            <a rel="next" href="faq.html" class="mobile-nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                                <i class="fa fa-angle-right"></i>
                            </a>
                        <div style="clear: both"></div>
                    </nav>
                </div>
            </div>

            <nav class="nav-wide-wrapper" aria-label="Page navigation">
                    <a rel="prev" href="integration-with-external-tools.html" class="nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                        <i class="fa fa-angle-left"></i>
                    </a>
                    <a rel="next" href="faq.html" class="nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                        <i class="fa fa-angle-right"></i>
                    </a>
            </nav>

        </div>

        <script type="text/javascript">
            window.playground_copyable = true;
        </script>
        <script src="elasticlunr.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="mark.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="searcher.js" type="text/javascript" charset="utf-8"></script>
        <script src="clipboard.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="highlight.js" type="text/javascript" charset="utf-8"></script>
        <script src="book.js" type="text/javascript" charset="utf-8"></script>

        <!-- Custom JS scripts -->
        <script type="text/javascript" src="theme/pagetoc.js"></script>
        <script type="text/javascript" src="theme/custom.js"></script>
    </body>
</html>
